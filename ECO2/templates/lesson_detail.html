{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="lesson-detail" data-animate="fade-in">
        <h1 style="margin-bottom: 1rem; color: var(--dark-green);">{{ lesson.title }}</h1>

        <div class="lesson-meta" style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
            <span class="difficulty {{ lesson.difficulty }}">{{ lesson.difficulty|title }}</span>
            <span style="color: var(--primary-green); font-weight: bold;">{{ lesson.points_reward }} points</span>
            <span style="color: var(--earth-blue);">{{ lesson.category|title }}</span>
        </div>

        <div class="lesson-content">
            <p style="font-size: 1.1rem; line-height: 1.6; margin-bottom: 2rem;">{{ lesson.description }}</p>

            <!-- Lesson Content Sections -->
            <div class="lesson-section">
                <h2 style="color: var(--dark-green); margin-bottom: 1rem;">What You'll Learn</h2>
                <div style="background: var(--light-gray); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                    <p>{{ lesson.content or "This lesson covers fundamental concepts in environmental education, including practical knowledge and real-world applications." }}</p>
                </div>
            </div>

            <!-- Interactive Elements -->
            <div class="lesson-section">
                <h2 style="color: var(--dark-green); margin-bottom: 1rem;">Key Concepts</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                    <div class="concept-card" data-animate="fade-in">
                        <h4>üåç Understanding Impact</h4>
                        <p>Learn how individual actions contribute to global environmental change.</p>
                    </div>
                    <div class="concept-card" data-animate="fade-in" style="animation-delay: 0.1s;">
                        <h4>üí° Sustainable Solutions</h4>
                        <p>Discover practical ways to reduce your environmental footprint.</p>
                    </div>
                    <div class="concept-card" data-animate="fade-in" style="animation-delay: 0.2s;">
                        <h4>ü§ù Community Action</h4>
                        <p>Explore how communities can work together for environmental protection.</p>
                    </div>
                </div>
            </div>

            <!-- Video Placeholder -->
            <div class="lesson-section">
                <h2 style="color: var(--dark-green); margin-bottom: 1rem;">Video Lesson</h2>
                <div style="background: #f0f0f0; border: 2px dashed #ccc; border-radius: 8px; padding: 3rem; text-align: center; margin-bottom: 2rem;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üé•</div>
                    <p>Video content would be embedded here</p>
                    <p style="color: #666; font-style: italic;">Duration: 5-7 minutes</p>
                </div>
            </div>

            <!-- Quiz Preview -->
            <div class="lesson-section">
                <h2 style="color: var(--dark-green); margin-bottom: 1rem;">Knowledge Check</h2>
                <div style="background: var(--light-gray); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                    <p>This lesson includes a quiz to test your understanding. The quiz contains multiple-choice questions and will help reinforce the key concepts you've learned.</p>
                    <div style="margin-top: 1rem;">
                        <span style="color: var(--primary-green); font-weight: bold;">Quiz Points: {{ lesson.points_reward }}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lesson Actions -->
        <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--light-gray);">
            <a href="{{ url_for('quiz', lesson_id=lesson.id) }}" class="btn btn-primary btn-pulse" style="font-size: 1.2rem; padding: 1rem 2rem;">
                Take Quiz & Earn {{ lesson.points_reward }} Points
            </a>
            <p style="margin-top: 1rem; color: #666;">Complete the quiz to mark this lesson as finished and earn your points!</p>
        </div>
    </div>
</div>
{% endblock %}
